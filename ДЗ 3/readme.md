# Расчет подситей IPv4

## Задачи:

### Часть 1. Определение подсетей по IPv4 

### Часть 2. Расчет подсетей по IPv4

## Для выполнения задач нам потребуется таблица с префиксами маски и их двоичному значению 

| Маска подсети |	Префикс маски |	Двоичная запись маски |
|---------------|---------------|-----------------------|
|0.0.0.0	|/0	|00000000.00000000.00000000.00000000 |
|128.0.0.0	|/1 |	10000000.00000000.00000000.00000000|
|192.0.0.0	|/2	|11000000.00000000.00000000.00000000|
|224.0.0.0	|/3	|11100000.00000000.00000000.00000000|
|240.0.0.0	|/4	|11110000.00000000.00000000.00000000|
|248.0.0.0	|/5	|11111000.00000000.00000000.00000000|
|252.0.0.0	|/6	|11111100.00000000.00000000.00000000|
|254.0.0.0	|/7	|11111110.00000000.00000000.00000000|
|255.0.0.0	|/8	|11111111.00000000.00000000.00000000|
|255.128.0.0 |/9	|11111111.10000000.00000000.00000000|
|255.192.0.0	|/10	|11111111.11000000.00000000.00000000|
|255.224.0.0	|/11	|11111111.11100000.00000000.00000000|
|255.240.0.0	|/12	|11111111.11110000.00000000.00000000|
|255.248.0.0	|/13	|11111111.11111000.00000000.00000000|
|255.252.0.0	|/14	|11111111.11111100.00000000.00000000|
|255.254.0.0	|/15	|11111111.11111110.00000000.00000000|
|255.255.0.0	|/16	|11111111.11111111.00000000.00000000|
|255.255.128.0	|/17	|11111111.11111111.10000000.00000000|
|255.255.192.0	|/18	|11111111.11111111.11000000.00000000|
|255.255.224.0	|/19	|11111111.11111111.11100000.00000000|
|255.255.240.0	|/20	|11111111.11111111.11110000.00000000|
|255.255.248.0	|/21	|11111111.11111111.11111000.00000000|
|255.255.252.0	|/22	|11111111.11111111.11111100.00000000|
|255.255.254.0	|/23	|11111111.11111111.11111110.00000000|
|255.255.255.0	|/24	|11111111.11111111.11111111.00000000|
|255.255.255.128	|/25	|11111111.11111111.11111111.10000000|
|255.255.255.192	|/26	|11111111.11111111.11111111.11000000|
|255.255.255.224	|/27	|11111111.11111111.11111111.11100000|
|255.255.255.240	|/28	|11111111.11111111.11111111.11110000|
|255.255.255.248	|/29	|11111111.11111111.11111111.11111000|
|255.255.255.252	|/30	|11111111.11111111.11111111.11111100|
|255.255.255.254	|/31	|11111111.11111111.11111111.11111110|
|255.255.255.255	|/32	|11111111.11111111.11111111.11111111|

#
# Проблема 1
## Дано:

  |            Дано           |  IP адрес, класс "С"        |  
  |---------------------------|-----------------------------|
  |     IP адрес узла         |    192.168.200.139          | 
  |     Исходная маска        |    255.255.255.0 или /24    |
  |     Новая маска подсети   |    255.255.255.224 или /27  |
  
## Найти:

  |               Найти                             |            результат               |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            27-24 = 3               | 
  |    Количество созданых подсетей                 |        2 в 3 степени =  8          |
  |    Количество бит узлов в подсети               |             32-27 = 5              |
  |    Количество узлов в подсети (hosts)           |     (2 в степени 5)-2 = 30         | 
  |    Сетевой адрес подсети (Network)              |         192.168.200.128            | 
  |   IPv4 первого узла подсети (host min)          |         192.168.200.129            | 
  |   IPv4 последнего узла подсети (host max)       |         192.168.200.158            | 
  |   Широковещательный IPv4 подсети (broadcast)    |         192.168.200.159            | 
   
## Решение:  
   27-24=3(получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 3 равно 8) и получаем кол-во подсетей 8 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 27, получаем 5
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 5 (бит узлов) минус 2, получаем 30
                                                                                                    
   |Значение 192.168.200.139 в двоичной системе будет равно      | 11000000.10101000.11001000.10001011 |
   |-------------------------------------------------------------|-------------------------------------|
   |Значение маски 27 в двоичной системе будет равно             | 11111111.11111111.11111111.11100000 |
   |Если перемножим каждое напротив стоящие значени то получим етевой адрес подсети (Network)  | 11000000.10101000.11001000.10000000 |
   |Теперь можем узнать широковещательный IPv4 подсети (broadcast), где первые биты (напротив маски) останутся неизенны до последних нулей, а последующие биты будут все еденицы   | 11000000.10101000.11001000.10011111 |
   
   Переведем все в десятичную систему 
   
   | 11000000.10101000.11001000.10001011 | 192.168.200.139 |
   |-------------------------------------------------------------|-------------------------------------|
   | 11111111.11111111.11111111.11100000 | 255.255.255.224 |
   | 11000000.10101000.11001000.10000000 | 192.168.200.128 |
   | 11000000.10101000.11001000.10011111 | 192.168.200.159 |  
   
   Теперь когда знаем network & broadcast можем вычислить последний host и первый.
   
   | 11000000.10101000.11001000.10001011 | 192.168.200.139 |                        | |
   |-------------------------------------|-----------------|------------------------|--|
   | 11111111.11111111.11111111.11100000 | 255.255.255.224 |                        | |
   | 11000000.10101000.11001000.10000000 | 192.168.200.128 |                        | |
   | 11000000.10101000.11001000.10011111 | 192.168.200.159 |                        | |
   | 11000000.10101000.11001000.10000001 | 192.168.200.129 | network +1             | host min |
   | 11000000.10101000.11001000.10011110 | 192.168.200.158 | broadcast -1           | host max |
   

по такому же принцепу вычесляются следующие задачи...


# Проблема 2
## Дано:

  |                           |  IP адрес, класс "A"      |  
  |---------------------------|---------------------------|
  |     IP адрес узла         |    10.101.99.228          | 
  |     Исходная маска        |    255.0.0.0  или /8      |
  |     Новая маска подсети   |    255.255.128.0 или /17  |
  
  
## Найти:

  |               Найти                             |            результат               |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            17-8 = 9                | 
  |    Количество созданых подсетей                 |        2 в 9 степени = 512         |
  |    Количество бит узлов в подсети               |            32-17 = 15              |
  |    Количество узлов в подсети (hosts)           |    (2 в степени 15)-2 = 32766      | 
  |    Сетевой адрес подсети (Network)              |           10.101.0.0               | 
  |   IPv4 первого узла подсети (host min)          |           10.101.0.1               | 
  |   IPv4 последнего узла подсети (host max)       |           10.101.127.254           | 
  |   Широковещательный IPv4 подсети (broadcast)    |           10.101.127.255           | 

## Решение:  
   17-8=9(получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 9 равно 512) и получаем кол-во подсетей 5112 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 17, получаем 15
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 15 (бит узлов) минус 2, получаем 32766
 
 #
 # Проблема 3   
   
## Дано:

  |                           |  IP адрес, класс "B"    |  
  |---------------------------|-------------------------|
  |     IP адрес узла         |    172.22.32.12         | 
  |     Исходная маска        |    255.255.0.0  /16     |
  |     Новая маска подсети   |    255.255.224.0  /19   |
  
  
## Найти:

  |               Найти                             |                                    |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            19-16 = 3               | 
  |    Количество созданых подсетей                 |         2 в 3 степени = 8          |
  |    Количество бит узлов в подсети               |            32-19 = 13              |
  |    Количество узлов в подсети (hosts)           |    (2 в степени 13)-2 = 8190       | 
  |    Сетевой адрес подсети (Network)              |           172.22.0.0               | 
  |   IPv4 первого узла подсети (host min)          |           172.22.0.1               | 
  |   IPv4 последнего узла подсети (host max)       |           172.22.31.254            | 
  |   Широковещательный IPv4 подсети (broadcast)    |           172.22.31.255            | 
   
 ## Решение:  
   19-16 = 3(получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 3 равно 8) и получаем кол-во подсетей 8 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 19, получаем 13
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 13 (бит узлов) минус 2, получаем 8190  

#
# Проблема 4
## Дано:

  |                           |  IP адрес, класс "С"     |  
  |---------------------------|--------------------------|
  |     IP адрес узла         |    192.168.1.245         | 
  |     Исходная маска        |    255.255.255.0   /24   |
  |     Новая маска подсети   |    255.255.255.252  /30  |
  
  
## Найти:

  |               Найти                             |                                    |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            30-24 = 6               | 
  |    Количество созданых подсетей                 |         2 в 6 степени = 64         |
  |    Количество бит узлов в подсети               |            32-30 = 2               |
  |    Количество узлов в подсети (hosts)           |    (2 в степени 2)-2 = 2           | 
  |    Сетевой адрес подсети (Network)              |           192.168.1.244            | 
  |   IPv4 первого узла подсети (host min)          |           192.168.1.245            | 
  |   IPv4 последнего узла подсети (host max)       |           192.168.1.246            | 
  |   Широковещательный IPv4 подсети (broadcast)    |           192.168.1.247            | 
  
  ## Решение:  
   30-24 = 6(получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 2 равно 2) и получаем кол-во подсетей 2 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 30, получаем 2
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 2 (бит узлов) минус 2, получаем 2
   
#
# Проблема 5
## Дано:

  |                           |  IP адрес, класс "B"    |  
  |---------------------------|-------------------------|
  |     IP адрес узла         |    128.107.0.55         | 
  |     Исходная маска        |    255.255.0.0  /16     |
  |     Новая маска подсети   |    255.255.255.0  /24   |
  
  
## Найти:

  |               Найти                             |                                    |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            24-16 = 8               | 
  |    Количество созданых подсетей                 |         2 в 8 степени = 256        |
  |    Количество бит узлов в подсети               |            32-24 = 8               |
  |    Количество узлов в подсети (hosts)           |    (2 в степени 8)-2 = 254         | 
  |    Сетевой адрес подсети (Network)              |          128.107.0.0               | 
  |   IPv4 первого узла подсети (host min)          |          128.107.0.1               | 
  |   IPv4 последнего узла подсети (host max)       |          128.107.0.254             | 
  |   Широковещательный IPv4 подсети (broadcast)    |          128.107.0.255             | 
   
   ## Решение:  
   24-16 = 8 (получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 8 равно 256) и получаем кол-во подсетей 256 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 24, получаем 8
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 8 (бит узлов) минус 2, получаем 254
   
#   
# Проблема 6
## Дано:

  |                           |  IP адрес, класс "С"    |  
  |---------------------------|-------------------------|
  |     IP адрес узла         |    192.135.250.180      | 
  |     Исходная маска        |    255.255.255.0 /24    |
  |     Новая маска подсети   |    255.255.255.248 /29  |
  
  
## Найти:

  |               Найти                             |                                    |  
  |-------------------------------------------------|------------------------------------|
  |    Количество бит подсети                       |            29-24 = 5               | 
  |    Количество созданых подсетей                 |         2 в 5 степени = 32         |
  |    Количество бит узлов в подсети               |            32-29 = 3               |
  |    Количество узлов в подсети (hosts)           |    (2 в степени 3)-2 = 6           | 
  |    Сетевой адрес подсети (Network)              |          192.135.250.176           | 
  |   IPv4 первого узла подсети (host min)          |          192.135.250.177           | 
  |   IPv4 последнего узла подсети (host max)       |          192.135.250.183           | 
  |   Широковещательный IPv4 подсети (broadcast)    |          192.135.250.184           | 
  
 ## Решение:  
   29-24 = 5 (получаем кол-во бит подсети)
   Подставляем в формулу полученое значение  (2 в степени 5 равно 32) и получаем кол-во подсетей 32 
   Количество бит узлов вычесляем в результате остатка от разницы max 32 бит и новой маски бит 29, получаем 3
   С получеными данными можем узнать количество узлов подсети по формуле 2 в степени 3 (бит узлов) минус 2, получаем 6
    

